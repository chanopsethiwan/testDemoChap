---

title: UserTable


keywords: fastai
sidebar: home_sidebar

summary: "Tables with informations about each user"
description: "Tables with informations about each user"
nb_path: "nbs/userTable.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/userTable.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="UsernameIndex" class="doc_header"><code>class</code> <code>UsernameIndex</code><a href="https://github.com/thanakijwanavit/src/tree/main/src/userTable.py#L12" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>UsernameIndex</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwds</code></strong>) :: <code>GlobalSecondaryIndex</code></p>
</blockquote>
<p>a global secondary index for username</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="UserTable" class="doc_header"><code>class</code> <code>UserTable</code><a href="https://github.com/thanakijwanavit/src/tree/main/src/userTable.py#L23" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>UserTable</code>(<strong><code>hash_key</code></strong>:<code>Optional</code>[<code>typing.Any</code>]=<em><code>None</code></em>, <strong><code>range_key</code></strong>:<code>Optional</code>[<code>typing.Any</code>]=<em><code>None</code></em>, <strong><code>_user_instantiated</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong>**<code>attributes</code></strong>:<code>typing.Any</code>) :: <code>Model</code></p>
</blockquote>
<p>A DynamoDB User</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">testObject</span> <span class="o">=</span> <span class="n">UserTable</span><span class="p">(</span><span class="n">userId</span> <span class="o">=</span> <span class="s1">&#39;834295872&#39;</span><span class="p">,</span> <span class="n">username</span> <span class="o">=</span> <span class="s1">&#39;Delgg&#39;</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="mi">293894251</span><span class="p">,</span> <span class="n">passwordHash</span> <span class="o">=</span> <span class="s1">&#39;asdjkhfaks;gkjadhg;kdfh&#39;</span><span class="p">)</span>
<span class="n">testObject</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Delgg
asdjkhfaks;gkjadhg;kdfh</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">testObject</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Input <span class="ansi-green-fg">In [8]</span>, in <span class="ansi-cyan-fg">&lt;cell line: 1&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">testObject</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">save</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/usr/local/Caskroom/miniconda/base/envs/python38/lib/python3.8/site-packages/pynamodb/models.py:445</span>, in <span class="ansi-cyan-fg">Model.save</span><span class="ansi-blue-fg">(self, condition)</span>
<span class="ansi-green-intense-fg ansi-bold">    441</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span> <span style="color: rgb(0,0,255)">save</span>(<span style="color: rgb(0,135,0)">self</span>, condition: Optional[Condition] <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> Dict[<span style="color: rgb(0,135,0)">str</span>, Any]:
<span class="ansi-green-intense-fg ansi-bold">    442</span>     <span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    443</span> <span style="color: rgb(175,0,0)">    Save this object to dynamodb</span>
<span class="ansi-green-intense-fg ansi-bold">    444</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 445</span>     args, kwargs <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_get_save_args</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    446</span>     version_condition <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>_handle_version_attribute(serialized_attributes<span style="color: rgb(98,98,98)">=</span>kwargs)
<span class="ansi-green-intense-fg ansi-bold">    447</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> version_condition <span class="ansi-bold" style="color: rgb(175,0,255)">is</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:

File <span class="ansi-green-fg">/usr/local/Caskroom/miniconda/base/envs/python38/lib/python3.8/site-packages/pynamodb/models.py:979</span>, in <span class="ansi-cyan-fg">Model._get_save_args</span><span class="ansi-blue-fg">(self, attributes, null_check)</span>
<span class="ansi-green-intense-fg ansi-bold">    970</span> <span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    971</span> <span style="color: rgb(175,0,0)">Gets the proper *args, **kwargs for saving and retrieving this object</span>
<span class="ansi-green-intense-fg ansi-bold">    972</span> 
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    976</span> <span style="color: rgb(175,0,0)">:param null_check: If True, then attributes are checked for null.</span>
<span class="ansi-green-intense-fg ansi-bold">    977</span> <span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    978</span> kwargs <span style="color: rgb(98,98,98)">=</span> {}
<span class="ansi-green-fg">--&gt; 979</span> serialized <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_serialize</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">null_check</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">null_check</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    980</span> hash_key <span style="color: rgb(98,98,98)">=</span> serialized<span style="color: rgb(98,98,98)">.</span>get(HASH)
<span class="ansi-green-intense-fg ansi-bold">    981</span> range_key <span style="color: rgb(98,98,98)">=</span> serialized<span style="color: rgb(98,98,98)">.</span>get(RANGE, <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>)

File <span class="ansi-green-fg">/usr/local/Caskroom/miniconda/base/envs/python38/lib/python3.8/site-packages/pynamodb/models.py:1151</span>, in <span class="ansi-cyan-fg">Model._serialize</span><span class="ansi-blue-fg">(self, attr_map, null_check)</span>
<span class="ansi-green-intense-fg ansi-bold">   1148</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> value<span style="color: rgb(98,98,98)">.</span>validate():
<span class="ansi-green-intense-fg ansi-bold">   1149</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ValueError</span>(<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Attribute </span><span style="color: rgb(175,0,0)">&#39;</span><span class="ansi-bold" style="color: rgb(175,95,135)">{}</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)"> is not correctly typed</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(98,98,98)">.</span>format(attr<span style="color: rgb(98,98,98)">.</span>attr_name))
<span class="ansi-green-fg">-&gt; 1151</span> serialized <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_serialize_value</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">attr</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">value</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">null_check</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1152</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> NULL <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> serialized:
<span class="ansi-green-intense-fg ansi-bold">   1153</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">continue</span>

File <span class="ansi-green-fg">/usr/local/Caskroom/miniconda/base/envs/python38/lib/python3.8/site-packages/pynamodb/models.py:1183</span>, in <span class="ansi-cyan-fg">Model._serialize_value</span><span class="ansi-blue-fg">(cls, attr, value, null_check)</span>
<span class="ansi-green-intense-fg ansi-bold">   1181</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> serialized <span class="ansi-bold" style="color: rgb(175,0,255)">is</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">   1182</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> attr<span style="color: rgb(98,98,98)">.</span>null <span class="ansi-bold" style="color: rgb(175,0,255)">and</span> null_check:
<span class="ansi-green-fg">-&gt; 1183</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ValueError</span>(<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Attribute </span><span style="color: rgb(175,0,0)">&#39;</span><span class="ansi-bold" style="color: rgb(175,95,135)">{}</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)"> cannot be None</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(98,98,98)">.</span>format(attr<span style="color: rgb(98,98,98)">.</span>attr_name))
<span class="ansi-green-intense-fg ansi-bold">   1184</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> {NULL: <span class="ansi-bold" style="color: rgb(0,135,0)">True</span>}
<span class="ansi-green-intense-fg ansi-bold">   1186</span> <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> {ATTR_TYPE_MAP[attr<span style="color: rgb(98,98,98)">.</span>attr_type]: serialized}

<span class="ansi-red-fg">ValueError</span>: Attribute &#39;email&#39; cannot be None</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">USERTABLENAME</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;usertablechap-test-master&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">UserTable</span><span class="o">.</span><span class="n">username_index</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;DelG194&#39;</span><span class="p">)</span>
<span class="n">b</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="k">if</span> <span class="n">b</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1
True
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">UserTable</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;2453134e-0c1b-43ba-b157-25429ca8231c&#39;</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">passwordHash</span> <span class="o">=</span> <span class="s1">&#39;noob&#39;</span>
<span class="n">b</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;ConsumedCapacity&#39;: {&#39;CapacityUnits&#39;: 2.0,
  &#39;TableName&#39;: &#39;usertablechap-test-master&#39;}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

